# 余談：スクリプト言語とコンパイラ言語

Pythonはスクリプト言語、C++はコンパイラ言語に分類するのが一般的だが、「スクリプト言語」と「コンパイラ言語」の区別は絶対ではない。本講で学んだように、ほとんどのスクリプト言語は一度「中間コード」と呼ばれる言語に「コンパイル」され、中間コードを仮想マシン上で動かすことで動作の高速化を図っている。また、Javaはプログラムをコンパイルしてから実行する形式のためにユーザからは「コンパイル言語」のように見えるが、実際にはPythonと同様にプログラムを中間コードに変換し、それを「Java 仮想マシン (JVM)」上で動作させている。Java仮想マシンは中間コードを実行する際に、インタプリタのように実行する場合と、部分的に機械語に変換しながら実行する場合(JIT方式と呼ばれる)がある。さらに、Javaのプログラムをそのまま機械語に変換する処理系もある。

また、C言語やC++言語は通常「コンパイラ言語」に分類され、GCCなどの処理系ではプログラムはそのまま機械語に変換されるが、Clangという処理系は一度プログラムをLLVM IR(Intermediate Representation)と呼ばれる中間コードに変換し、それを機械語に変換する方式を採用している。Microsoft .NET Frameworkは、C#やVisual Basic、C++といった言語を、一度「共通中間言語 (Common Intermediate Language, CIL)」に変換し、.NETの仮想マシンである仮想実行システム(Virtual Execution System, VES)上で実行する。

スクリプト言語とコンパイラ言語に限らず、「プログラミング言語の厳密な分類」は難しく、「関数型言語」「手続き型言語」の厳密な区別をしようとしたり、「ある言語はオブジェクト指向言語かどうか」、もっと言えば「オブジェクト指向らしさとは何か」などのテーマは、議論が白熱するわりに得るものが少ないので雑談程度にとどめておいたほうが良いと思う。ただし、「自分が考える素敵な○○指向言語」を突き詰めて、「オレオレ言語」まで作ってしまうのは素晴らしいことなのでどんどんやれば良い。言語を自作しなくても、既存の言語処理系を作るのも面白そうである(筆者はまだやったことはないが)。有名なものはRui Ueyamaさんの[低レイヤを知りたい人のためのCコンパイラ作成入門](https://www.sigbus.info/compilerbook/)などであろう。また、Lispの処理系自作もよく見かけるので、興味のある人は試してみられたい。

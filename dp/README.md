# [動的計画法](https://kaityo256.github.io/python_zero/dp/)

[[Up]](../index.html)
[[Repository]](https://github.com/kaityo256/python_zero)

## 本講で学ぶこと

* 計算量の概念
* 動的計画法
* 余談：人外について

## 動的計画法とは

動的計画法を知っているだろうか。英語ではDynamic Programmingというため、よくDPと略される。動的計画法を知らなくても、「ナップサック問題」は聞いたことがあるだろう。あなたは洞窟の奥で見事宝物庫を見つけた。そこには重さと価値がまちまちな「宝物」が多数あるが、持ち帰ることができる重さには上限がある。この時、決められた重さの中で価値を最大化するにはどうすればよいだろうか？というのがナップサック問題である。

![ナップサック問題](fig/knapsack.png)

このような「たくさんの物のセットが与えられ、何かの条件(ここでは重さの総和)を満たしつつ、何かの価値を最大化するような組み合わせを探す」という問題は、「組み合わせ最適化問題」と呼ばれる。ナップサック問題は典型的な組み合わせ最適化問題の一つである。

あまり意識していないかもしれないが、我々は日常的に組み合わせ最適化問題を解いている。例えばレストランでメニューを見ながら何を食べるか決める時、当然ながら美味しいものを食べたいと思うことであろう。しかし、美味しい物は一般に値段もカロリーも高いというのがこの世の摂理である。そこで、「ある程度の予算、カロリーの制限内で、一番幸せ度が高いメニューの組み合わせ」を探すことになる。これは典型的なナップサック問題である。

何か作業をする際、目の前にタスクが一つしかない、ということは少ないであろう。多くの場合、多数のタスクがそれぞれ依存関係を持っており、それらは最終的にはすべて片付けないといけないのだが、取り組む順番によってはコストが大きく変わる、ということもよくある。

例えばあなたは

* 郵便局で封筒を簡易書留で出す
* スーパーで食材の買い物をする
* 借りていた本を図書館に返しに行く

という三つのタスクをこなす必要がある。実行順序は自由だ。簡単のため、スーパー、図書館、郵便局は家から等距離にあるとしよう。どのような順番でタスクをこなすべきだろうか？

もし「郵便局」「スーパー」「図書館」という順序でタスクをこなすと、


例えば料理を作る時、味噌汁を作るというタスクは「お湯を沸かす」というサブタスクを含む。料理に慣れていれば、まず鍋を火にかけてから、お湯が湧くまでの間に野菜を切るなどの別の作業をしたほうが効率が良いことがわかるだろう。このように、「実行時間が最小になるようにタスクの実行順序を決める」というのも最適化問題の一つである。複数の行列の行列積を求めるとき、どのような順番で縮約を取ると効率的な計算になるか、という連鎖行列積問題などがその典型例である。

## 余談：人外について

「人外」という言葉がある。「じんがい」と読む。もともとは「人ではないもの」という意味だが、私は「とても同じ人間とは思えないプログラマ」という意味で使っている。
